#
# مثال: الأصناف والكائنات
# SEEKEP - Smart Expressive Efficient Knowledge Execution Platform
#

# === صنف الشخص ===
صنف شخص {
    دالة init(الاسم، العمر) {
        هذا.الاسم = الاسم
        هذا.العمر = العمر
    }
    
    دالة تقديم() {
        اطبع("أنا " + هذا.الاسم + "، عمري " + نص(هذا.العمر) + " سنة")
    }
    
    دالة عيد_ميلاد() {
        هذا.العمر = هذا.العمر + 1
        اطبع("عيد ميلاد سعيد! الآن عمري " + نص(هذا.العمر))
    }
}

# إنشاء كائنات
متغير أحمد = جديد شخص("أحمد"، 25)
متغير علي = جديد شخص("علي"، 30)

أحمد.تقديم()
علي.تقديم()

أحمد.عيد_ميلاد()

# === صنف الطالب (يرث من الشخص) ===
صنف طالب: شخص {
    دالة init(الاسم، العمر، التخصص) {
        هذا.الاسم = الاسم
        هذا.العمر = العمر
        هذا.التخصص = التخصص
        هذا.الدرجات = []
    }
    
    دالة إضافة_درجة(درجة) {
        أضف(هذا.الدرجات، درجة)
    }
    
    dالة المتوسط() {
        إذا (الطول(هذا.الدرجات) == 0) {
            أرجع 0
        }
        متغير المجموع = 0
        لكل (درجة في هذا.الدرجات) {
            المجموع = المجموع + درجة
        }
        أرجع المجموع / الطول(هذا.الدرجات)
    }
    
    دالة تقديم() {
        اطبع("أنا " + هذا.الاسم + "، طالب " + هذا.التخصص)
    }
}

متغير محمد = جديد طالب("محمد"، 20، "علوم الحاسب")
محمد.تقديم()

محمد.إضافة_درجة(85)
محمد.إضافة_درجة(90)
محمد.إضافة_درجة(78)

اطبع("متوسط الدرجات: " + نص(محمد.المتوسط()))

# === صنف الحساب البنكي ===
صنف حساب_بنكي {
    دالة init(صاحب_الحساب، الرصيد_الأولي = 0) {
        هذا.الصاحب = صاحب_الحساب
        هذا.الرصيد = الرصيد_الأولي
        هذا.العمليات = []
    }
    
    دالة إيداع(المبلغ) {
        إذا (المبلغ <= 0) {
            اطبع("خطأ: المبلغ يجب أن يكون موجباً")
            أرجع خطأ
        }
        هذا.الرصيد = هذا.الرصيد + المبلغ
        أضف(هذا.العمليات، "إيداع: +" + نص(المبلغ))
        اطبع("تم الإيداع: " + نص(المبلغ))
        أرجع صحيح
    }
    
    دالة سحب(المبلغ) {
        إذا (المبلغ > هذا.الرصيد) {
            اطبع("خطأ: رصيد غير كافٍ")
            أرجع خطأ
        }
        هذا.الرصيد = هذا.الرصيد - المبلغ
        أضف(هذا.العمليات، "سحب: -" + نص(المبلغ))
        اطبع("تم السحب: " + نص(المبلغ))
        أرجع صحيح
    }
    
    دالة كشف_الحساب() {
        اطبع("\n=== كشف حساب ===")
        اطبع("الصاحب: " + هذا.الصاحب)
        اطبع("الرصيد: " + نص(هذا.الرصيد))
        اطبع("العمليات:")
        لكل (عملية في هذا.العمليات) {
            اطبع("  - " + عملية)
        }
    }
}

متغير حسابي = جديد حساب_بنكي("أحمد"، 1000)
حسابي.إيداع(500)
حسابي.سحب(200)
حسابي.إيداع(1000)
حسابي.كشف_الحساب()
