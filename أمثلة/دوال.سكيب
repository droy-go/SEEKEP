#
# مثال: الدوال والإغلاقات
# SEEKEP - Smart Expressive Efficient Knowledge Execution Platform
#

# === دالة بسيطة ===
dالة تحية(الاسم) {
    أرجع "مرحباً، " + الاسم + "!"
}

اطبع(تحية("محمد"))
اطبع(تحية("العالم"))

# === دالة مع معاملات افتراضية ===
dالة قوة(الأساس، الأس = 2) {
    أرجع الأساس ^ الأس
}

اطبع("\n2^2 = " + نص(قوة(2)))        # 4
اطبع("2^3 = " + نص(قوة(2، 3)))      # 8

# === دالة متغيرة المعاملات ===
dالة مجموع(...أرقام) {
    متغير الناتج = 0
    لكل (رقم في أرقام) {
        الناتج = الناتج + رقم
    }
    أرجع الناتج
}

اطبع("\nمجموع(1,2,3) = " + نص(مجموع(1، 2، 3)))
اطبع("مجموع(10,20,30,40) = " + نص(مجموع(10، 20، 30، 40)))

# === دالة متكررة ===
dالة عامل(ن) {
    إذا (ن <= 1) {
        أرجع 1
    }
    أرجع ن * عامل(ن - 1)
}

اطبع("\n5! = " + نص(عامل(5)))
اطبع("10! = " + نص(عامل(10)))

# === دالة فيبوناتشي ===
dالة فيبوناتشي(ن) {
    إذا (ن <= 1) {
        أرجع ن
    }
    أرجع فيبوناتشي(ن - 1) + فيبوناتشي(ن - 2)
}

اطبع("\nمتتالية فيبوناتشي:")
لكل (i في المدى(0، 10)) {
    اطبع("F(" + نص(i) + ") = " + نص(فيبوناتشي(i)))
}

# === دالة عالية المستوى ===
dالة تطبيق(دالة، قائمة) {
    متغير النتيجة = []
    لكل (عنصر في قائمة) {
        أضف(النتيجة، دالة(عنصر))
    }
    أرجع النتيجة
}

dالة مضاعف(س) {
    أرجع س * 2
}

متغير أعداد = [1، 2، 3، 4، 5]
متغير مضاعفات = تطبيق(مضاعف، أعداد)
اطبع("\nالمضاعفات: " + نص(مضاعفات))

# === lambda (دالة مجهولة) ===
متغير ضرب_في_ثلاثة = دالة(س) => س * 3
اطبع("\n3 * 4 = " + نص(ضرب_في_ثلاثة(4)))

# === دالة مع closure ===
dالة منشئ_عداد() {
    متغير العداد = 0
    أرجع دالة() {
        العداد = العداد + 1
        أرجع العداد
    }
}

متغير عداد1 = منشئ_عداد()
متغير عداد2 = منشئ_عداد()

اطبع("\nعداد1: " + نص(عداد1()))  # 1
اطبع("عداد1: " + نص(عداد1()))  # 2
اطبع("عداد2: " + نص(عداد2()))  # 1
اطبع("عداد1: " + نص(عداد1()))  # 3
